function __mapToDef() {
    user="${1}"
    host="${2}"
    def="${3}"
    nix="${4}"
    if [ "${user}" = "$(whoami)" ] && [[ "$(hostname)" == *"${host}"* ]] ; then
        if [ -r "$HOME/.dotfiles/samples/${def}" ] ; then
            echo "Find ${def} script for user ${user} on $(hostname)"
            export MY_NIX_PROFILE=$nix
            source "$HOME/.dotfiles/samples/${def}"
        else
            echo "Cannot find def"
        fi
    fi

}

__mapToDef 'zengdai' 'Zengs-MacBook-Pro' 'macvar.def' 'homemac'
__mapToDef 'ubuntu' 'ip' 'ec2var.def'
__mapToDef 'ying' '192.168' 'yingvar.def'
__mapToDef 'zengdai' 'instance' 'gcpvar.def'
__mapToDef 'zdai' 'localhost' 'centosnix.def' 'homelinux'


